{"ast":null,"code":"import _regeneratorRuntime from\"/root/investrties/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/root/investrties/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/root/investrties/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useRef,useState,useEffect,useContext}from'react';import AuthContext from\"./context/AuthProvider\";import{NavLink}from'react-router-dom';import Cookies from'universal-cookie';import axios from'./api/axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var USERNAME_URL='/api/account/username';var NAME_URL='/api/account/name';var cookies=new Cookies();var Account=function Account(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),about=_useState8[0],setAbout=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),profilePicture=_useState10[0],setProfilePicture=_useState10[1];useEffect(function(){var accessToken=cookies.get('accessToken');console.log(accessToken);// This will output the token value\naxios.get(USERNAME_URL,{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(accessToken)}}).then(function(response){var username=response.data;setUsername(username);}).catch(function(error){// Handle errors\n});},[]);var name={FirstName:firstName,LastName:lastName,About:about,profilePicture:profilePicture?profilePicture.name:null};var nameSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var allowedTypes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!profilePicture){_context.next=10;break;}allowedTypes=['image/jpeg','image/png','image/gif'];if(allowedTypes.includes(profilePicture.type)){_context.next=6;break;}alert('Only JPEG, PNG, and GIF images are allowed.');return _context.abrupt(\"return\");case 6:if(!(profilePicture.size>2*1024*1024)){_context.next=9;break;}// 2 MB limit\nalert('Image size should be less than 2MB.');return _context.abrupt(\"return\");case 9:// Proceed to submit and handle the profile picture\n// Remember to handle the server-side validation and saving here\n// For demonstration purposes, I'm just logging the file details\nconsole.log('Profile Picture:',profilePicture.name,profilePicture.type,profilePicture.size);case 10:console.log(name);case 11:case\"end\":return _context.stop();}},_callee);}));return function nameSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Hello! \",username]}),/*#__PURE__*/_jsx(\"p\",{children:\"Finsih Setting Up Your Profile!\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:nameSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setFirstName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setLastName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"about\",children:\"Tell The World All About Yourself!\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setAbout(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profilePicture\",children:\"Profile Picture:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:function onChange(e){return setProfilePicture(e.target.files[0]);}}),profilePicture&&/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(profilePicture),alt:\"Profile Picture\",style:{verticalAlign:'center',width:'200px',height:'200px',borderRadius:'50%'}}),/*#__PURE__*/_jsx(\"button\",{className:\"submit\",children:\"Submit\"})]})]});};export default Account;","map":{"version":3,"names":["React","useRef","useState","useEffect","useContext","AuthContext","NavLink","Cookies","axios","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","USERNAME_URL","NAME_URL","cookies","Account","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","firstName","setFirstName","_useState5","_useState6","lastName","setLastName","_useState7","_useState8","about","setAbout","_useState9","_useState10","profilePicture","setProfilePicture","accessToken","get","console","log","headers","concat","then","response","data","catch","error","name","FirstName","LastName","About","nameSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","allowedTypes","wrap","_callee$","_context","prev","next","preventDefault","includes","type","alert","abrupt","size","stop","_x","apply","arguments","children","onSubmit","htmlFor","onChange","target","value","accept","files","src","URL","createObjectURL","alt","style","verticalAlign","width","height","borderRadius","className"],"sources":["/root/investrties/src/pages/Account.js"],"sourcesContent":["import React from \"react\";\nimport { useRef, useState, useEffect, useContext } from 'react';\nimport AuthContext from \"./context/AuthProvider\";\nimport { NavLink } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\n\nimport axios from './api/axios';\nconst USERNAME_URL = '/api/account/username';\nconst NAME_URL = '/api/account/name';\n\nconst cookies = new Cookies();\n\nconst Account = () => {\n    const [username, setUsername] = useState('');\n    const [firstName, setFirstName] = useState('');\n    const [lastName, setLastName] = useState('');\n    const [about, setAbout] = useState('');\n    const [profilePicture, setProfilePicture] = useState(null);\n\n\n    useEffect(() => {\n\n        const accessToken = cookies.get('accessToken');\n        console.log(accessToken); // This will output the token value\n\n    axios.get(USERNAME_URL, {\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${accessToken}`\n        }\n    })\n    .then(response => {\n        const username = response.data;\n        setUsername(username);\n    })\n    .catch(error => {\n        // Handle errors\n    });\n}, []);\nconst name = {\n    FirstName: firstName,\n    LastName: lastName,\n    About: about, \n    profilePicture: profilePicture ? profilePicture.name : null \n};\n\n\nconst nameSubmit = async (e) => {\n    e.preventDefault();\n    if (profilePicture) {\n        const allowedTypes = ['image/jpeg', 'image/png', 'image/gif'];\n        if (!allowedTypes.includes(profilePicture.type)) {\n            alert('Only JPEG, PNG, and GIF images are allowed.');\n            return;\n        }\n        if (profilePicture.size > 2 * 1024 * 1024) { // 2 MB limit\n            alert('Image size should be less than 2MB.');\n            return;\n        }\n\n        // Proceed to submit and handle the profile picture\n        // Remember to handle the server-side validation and saving here\n        // For demonstration purposes, I'm just logging the file details\n        console.log('Profile Picture:', profilePicture.name, profilePicture.type, profilePicture.size);\n    }\n    console.log(name);\n};\n    return(\n        <><h1>Hello! {username}</h1>\n        <p>Finsih Setting Up Your Profile!</p>\n        <form onSubmit={nameSubmit}>\n            <label htmlFor=\"firstName\">\n                First Name:\n                </label>\n                <input\n                    onChange={(e) => setFirstName(e.target.value)}\n                ></input>\n                <label htmlFor=\"lastName\">\n                Last Name:\n                </label>\n                <input\n                    onChange={(e) => setLastName(e.target.value)}\n                ></input>\n                <label htmlFor=\"about\">\n                Tell The World All About Yourself!\n                </label>\n                <input\n                    onChange={(e) => setAbout(e.target.value)}\n                ></input>\n            <label htmlFor=\"profilePicture\">Profile Picture:</label>\n                <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={(e) => setProfilePicture(e.target.files[0])}\n                />\n                 {profilePicture && (\n                    <img\n                        src={URL.createObjectURL(profilePicture)}\n                        alt=\"Profile Picture\"\n                        style={{ verticalAlign: 'center', width: '200px', height: '200px', borderRadius: '50%' }}\n                    />\n                )}\n                <button className=\"submit\">Submit</button>\n            </form>\n        </>\n    );\n}\n\nexport default Account"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}